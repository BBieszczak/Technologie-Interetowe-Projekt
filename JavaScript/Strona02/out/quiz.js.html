<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: quiz.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: quiz.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Your class description */
/**
 * @file quiz.js
 * @description Główny plik logiki dla interaktywnego quizu o Unity i Blenderze.
 * Obsługuje walidację 10 typów pytań, mechanikę Drag&amp;Drop (mysz/dotyk)
 * oraz system feedbacku dla użytkownika.
 * * @author Bartosz Bieszczak
 * @version 1.1.0
 */

// ==========================================
// === NARZĘDZIA POMOCNICZE (HELPERY) ===
// ==========================================

/**
 * Wyświetla wynik (feedback) dla danego pytania.
 * Zmienia klasę elementu HTML, aby pokazać zielony (sukces) lub czerwony (błąd) komunikat.
 *
 * @param {string} elementId - ID elementu HTML, w którym ma pojawić się komunikat (np. 'f1').
 * @param {boolean} isCorrect - Czy odpowiedź jest poprawna?
 * @param {string} message - Treść komunikatu do wyświetlenia.
 */
function showResult(elementId, isCorrect, message) {
    const el = document.getElementById(elementId);
    if (!el) return; // Zabezpieczenie przed brakiem elementu

    // Ustawienie klasy CSS w zależności od wyniku
    el.className = isCorrect ? 'feedback correct' : 'feedback wrong';
    el.innerText = message;
    el.style.display = 'block';
}

// ==========================================
// === ZADANIA PROSTE (1-3) ===
// ==========================================

/**
 * Sprawdza odpowiedź dla Zadania 1 (Radio Buttons).
 * Pytanie o klasę bazową dla skryptów Unity.
 * Poprawna odpowiedź: 'b' (MonoBehaviour).
 */
function checkQ1() {
    const radios = document.getElementsByName('q1');
    let val = '';
    
    // Pętla szukająca zaznaczonego radio buttona
    for (let r of radios) {
        if (r.checked) val = r.value;
    }
    
    if (val === 'b') {
        showResult('f1', true, "Świetnie! MonoBehaviour to podstawa.");
    } else {
        showResult('f1', false, "Błąd. Prawidłowa odpowiedź to MonoBehaviour.");
    }
}

/**
 * Sprawdza odpowiedź dla Zadania 2 (Checkboxes).
 * Pytanie o kluczowe technologie (Unity, Blender, C#).
 * Wymaga zaznaczenia DOKŁADNIE trzech poprawnych opcji.
 */
function checkQ2() {
    const correct = ['unity', 'blender', 'csharp'];
    const checkboxes = document.querySelectorAll('input[name="q2"]:checked');
    
    // Konwersja NodeList na tablicę wartości
    const selected = Array.from(checkboxes).map(c => c.value);

    // Sprawdzenie: czy liczba zaznaczeń to 3 ORAZ czy wszystkie są na liście poprawnych
    const isCorrect = selected.length === 3 &amp;&amp; selected.every(val => correct.includes(val));

    if (isCorrect) {
        showResult('f2', true, "Zgadza się! Unity, Blender i C# to trzon projektu.");
    } else {
        showResult('f2', false, "Nie do końca. Zaznacz tylko: Unity, Blender i C#.");
    }
}

/**
 * Sprawdza odpowiedź dla Zadania 3 (Input Text).
 * Pytanie o format pliku (FBX).
 * Ignoruje wielkość liter i białe znaki.
 */
function checkQ3() {
    const input = document.getElementById('input-q3');
    if (!input) return;

    const val = input.value.trim().toLowerCase();
    
    // Akceptujemy 'fbx' oraz '.fbx'
    if (val === 'fbx' || val === '.fbx') {
        showResult('f3', true, "Brawo! FBX to uniwersalny format.");
    } else {
        showResult('f3', false, "Niestety nie. Chodzi o format FBX.");
    }
}

// ==========================================
// === SYSTEM HYBRYDOWY (DRAG &amp; DROP / CLICK) ===
// ==========================================

/** * Zmienna globalna przechowująca aktualnie zaznaczony element (dla trybu dotykowego/kliknięcia).
 * @type {HTMLElement|null} 
 */
let selectedElement = null; 

/**
 * Obsługuje logikę "Tap to Select" (Kliknij, aby wybrać).
 * Służy jako alternatywa dla Drag&amp;Drop na urządzeniach mobilnych.
 *
 * @param {HTMLElement} element - Element, który został kliknięty.
 */
function handleSelection(element) {
    // 1. Jeśli kliknięto ten sam element -> odznacz go (toggle)
    if (selectedElement === element) {
        element.classList.remove('selected-item');
        selectedElement = null;
        return;
    }

    // 2. Jeśli był już zaznaczony inny element -> usuń z niego zaznaczenie
    if (selectedElement) {
        selectedElement.classList.remove('selected-item');
    }

    // 3. Zaznacz nowy element
    selectedElement = element;
    selectedElement.classList.add('selected-item');
}

// ------------------------------------------
// --- ZADANIE 4: LISTA SORTOWALNA ---
// ------------------------------------------

/**
 * Description placeholder
 *
 * @type {*}
 */
const list = document.getElementById('sortable-list');
/** @type {HTMLElement|null} Przechowuje element aktualnie przeciągany myszką */
let draggedItem = null;

if (list) {
    const items = list.querySelectorAll('li');
    
    items.forEach(item => {
        // --- A. Obsługa Myszki (Native Drag &amp; Drop API) ---
        item.setAttribute('draggable', true);
        
        // Rozpoczęcie przeciągania
        item.addEventListener('dragstart', (e) => {
            draggedItem = e.target;
            // Opóźnienie dla efektu wizualnego (element staje się półprzezroczysty)
            setTimeout(() => e.target.style.opacity = '0.5', 0);
        });
        
        // Zakończenie przeciągania
        item.addEventListener('dragend', (e) => {
            e.target.style.opacity = '1';
            draggedItem = null;
        });
        
        // Wymagane, aby pozwolić na upuszczenie
        item.addEventListener('dragover', (e) => e.preventDefault());
        
        // Wizualizacja miejsca upuszczenia (górna krawędź)
        item.addEventListener('dragenter', (e) => e.target.style.borderTop = "3px solid #5b4174");
        item.addEventListener('dragleave', (e) => e.target.style.borderTop = "");
        
        // Upuszczenie elementu (zmiana kolejności w DOM)
        item.addEventListener('drop', (e) => {
            e.preventDefault();
            e.target.style.borderTop = "";
            if (draggedItem &amp;&amp; draggedItem !== e.target) {
                // Wstawiamy przeciągany element PRZED elementem, na który upuszczono
                list.insertBefore(draggedItem, e.target);
            }
        });

        // --- B. Obsługa Dotyku/Kliknięcia (Tap to Move) ---
        item.addEventListener('click', (e) => {
            // Sytuacja: Mamy zaznaczony element A, klikamy w element B -> Przenieś A przed B
            if (selectedElement &amp;&amp; selectedElement !== item &amp;&amp; list.contains(selectedElement)) {
                list.insertBefore(selectedElement, item);
                selectedElement.classList.remove('selected-item');
                selectedElement = null; // Reset po akcji
            } else {
                // Sytuacja: Nic nie jest zaznaczone -> Zaznacz ten element
                handleSelection(item);
            }
        });
    });
}

/**
 * Sprawdza kolejność elementów w Zadaniu 4.
 * Wymagana kolejność data-index: 1 -> 2 -> 3.
 */
function checkQ4() {
    const items = list.querySelectorAll('li');
    const order = Array.from(items).map(i => i.getAttribute('data-index'));
    
    if (order[0] === '1' &amp;&amp; order[1] === '2' &amp;&amp; order[2] === '3') {
        showResult('f4', true, "Doskonale! Kolejność jest poprawna.");
    } else {
        showResult('f4', false, "Zła kolejność. Prawidłowo: 1.Zaznacz -> 2.Export -> 3.Ustawienia.");
    }
}

// ------------------------------------------
// --- ZADANIE 5: DOPASOWANIE (MATCHING) ---
// ------------------------------------------

/**
 * Description placeholder
 *
 * @type {*}
 */
const draggables = document.querySelectorAll('#q5 .draggable-item');
/**
 * Description placeholder
 *
 * @type {*}
 */
const dropZones = document.querySelectorAll('#q5 .drop-zone');
/**
 * Description placeholder
 *
 * @type {*}
 */
const sourceContainer = document.getElementById('source-q5');

// 1. Konfiguracja klocków (elementów źródłowych)
draggables.forEach(d => {
    // Drag Start (Mysz)
    d.addEventListener('dragstart', e => {
        e.dataTransfer.setData('text', e.target.id); // Przekazujemy ID elementu
    });

    // Click (Dotyk/Mysz) - Obsługa zaznaczania
    d.addEventListener('click', (e) => {
        // Jeśli klocek jest już w strefie zrzutu, też pozwalamy go zaznaczyć (żeby cofnąć)
        handleSelection(d);
    });
});

// 2. Konfiguracja stref zrzutu (pól docelowych)
dropZones.forEach(z => {
    // -- Drag &amp; Drop Events --
    z.addEventListener('dragover', e => {
        e.preventDefault();
        z.style.background = "#e6ffe6"; // Podświetlenie strefy
    });
    
    z.addEventListener('dragleave', e => z.style.background = "#fafafa");
    
    z.addEventListener('drop', e => {
        e.preventDefault();
        z.style.background = "#fafafa";
        const id = e.dataTransfer.getData('text');
        const el = document.getElementById(id);
        
        // Pozwól upuścić tylko, jeśli strefa jest pusta
        if (el &amp;&amp; !z.hasChildNodes()) {
            z.appendChild(el);
        }
    });

    // -- Click Event (dla systemu hybrydowego) --
    z.addEventListener('click', () => {
        // Jeśli użytkownik wcześniej kliknął w klocek (selectedElement) i klika w pustą strefę
        if (selectedElement &amp;&amp; !z.hasChildNodes()) {
            z.appendChild(selectedElement); // Przenieś element fizycznie w DOM
            selectedElement.classList.remove('selected-item');
            selectedElement = null; // Reset
        }
    });
});

/**
 * Obsługa powrotu klocka do puli źródłowej.
 * Kliknięcie w kontener źródłowy (gdy klocek jest zaznaczony) cofa go.
 */
sourceContainer.addEventListener('click', () => {
    if (selectedElement &amp;&amp; dropZones.contains(selectedElement.parentElement)) {
         sourceContainer.appendChild(selectedElement); // Cofnij do puli
         selectedElement.classList.remove('selected-item');
         selectedElement = null;
    }
});

/**
 * Sprawdza poprawność dopasowania w Zadaniu 5.
 * Weryfikuje atrybut `data-correct` strefy zrzutu względem ID klocka.
 */
function checkQ5() {
    let correctCount = 0;
    
    dropZones.forEach(z => {
        // Sprawdź czy strefa ma dziecko I czy ID dziecka zgadza się z wzorcem
        if (z.firstChild &amp;&amp; z.firstChild.id === z.getAttribute('data-correct')) {
            correctCount++;
        }
    });

    if (correctCount === 3) {
        showResult('f5', true, "Wszystkie pary dopasowane!");
    } else {
        showResult('f5', false, "Błąd. Unity=Silnik, Blender=Modele, C#=Logika.");
    }
}

/**
 * Resetuje zadanie 5 - przenosi wszystkie klocki z powrotem do puli źródłowej.
 */
function resetQ5() {
    const allDraggables = document.querySelectorAll('#q5 .draggable-item');
    allDraggables.forEach(item => {
        sourceContainer.appendChild(item);
        item.classList.remove('selected-item');
    });
    selectedElement = null;
    
    // Ukryj poprzedni wynik
    const feedback = document.getElementById('f5');
    if(feedback) feedback.style.display = 'none';
}

// ==========================================
// === ZADANIA INTERAKTYWNE (6-10) ===
// ==========================================

/**
 * Sprawdza Zadanie 6 (Slider).
 * Pytanie o wartość zmiennej float.
 * Poprawna wartość: 5.
 */
function checkQ6() {
    const val = document.getElementById('slider-q6').value;
    // Operator '==' bo value z inputa to string, a porównujemy z liczbą
    if (val == 5) {
        showResult('f6', true, "Zgadza się! 5.0f");
    } else {
        showResult('f6', false, "Zła wartość (szukaj w kodzie).");
    }
}

/**
 * Sprawdza Zadanie 7 (Select / Dropdown).
 * Uzupełnianie luki w kodzie.
 * Poprawna opcja: 'correct' (Time.deltaTime).
 */
function checkQ7() {
    const val = document.getElementById('select-q7').value;
    if (val === 'correct') {
        showResult('f7', true, "Tak jest! Time.deltaTime.");
    } else {
        showResult('f7', false, "Błąd. Potrzebujemy czasu klatki.");
    }
}

/**
 * Sprawdza Zadanie 8 (Toggle Switch).
 * Pytanie True/False o metodę Start().
 * Poprawna odpowiedź: False (Start wykonuje się raz, nie co klatkę).
 * W interfejsie: 'False' jest gdy checkbox nie jest zaznaczony.
 */
function checkQ8() {
    const isChecked = document.getElementById('toggle-q8').checked;
    
    // Checkbox wyłączony = lewa strona (Fałsz) = Poprawna odpowiedź
    if (!isChecked) {
        showResult('f8', true, "Poprawnie! Start() tylko raz.");
    } else {
        showResult('f8', false, "Błąd. Update() działa ciągle.");
    }
}

// ------------------------------------------
// --- ZADANIE 9: WYBÓR OBRAZKA (IMAGE SELECT) ---
// ------------------------------------------

/**
 * Zaznacza obrazek w zadaniu 9.
 * @param {HTMLElement} element - Kliknięty element &lt;img>.
 * @param {string} value - Wartość przypisana do obrazka ('correct' lub 'wrong').
 */
function selectImg(element, value) {
    // 1. Usuń klasę 'selected' ze wszystkich opcji
    document.querySelectorAll('.img-option').forEach(img => img.classList.remove('selected'));
    
    // 2. Dodaj klasę do klikniętego
    element.classList.add('selected');
    
    // 3. Zapisz wybór w ukrytym polu input
    document.getElementById('q9-val').value = value;
}

/**
 * Sprawdza wybór obrazka w Zadaniu 9.
 */
function checkQ9() {
    const val = document.getElementById('q9-val').value;
    if (val === 'correct') {
        showResult('f9', true, "Brawo! To Inspektor.");
    } else {
        showResult('f9', false, "Zły obrazek.");
    }
}

/**
 * Otwiera Modal (Lightbox) z powiększonym obrazkiem.
 * @param {string} src - Ścieżka do pliku graficznego.
 */
function openModal(src) {
    document.getElementById('img-modal').style.display = "flex";
    document.getElementById('modal-image').src = src;
}

/**
 * Zamyka Modal.
 */
function closeModal() {
    document.getElementById('img-modal').style.display = "none";
}

// Zamknij modal klikając w tło
window.onclick = function (event) {
    if (event.target == document.getElementById('img-modal')) {
        closeModal();
    }
}

// ------------------------------------------
// --- ZADANIE 10: SEKWENCJA PRZYCISKÓW ---
// ------------------------------------------

/** * Tablica przechowująca kolejność kliknięć użytkownika.
 * @type {number[]} 
 */
let userSequence = [];

/**
 * Obsługuje kliknięcie przycisku w sekwencji.
 * Blokuje ponowne kliknięcie tego samego przycisku.
 * * @param {HTMLElement} btn - Kliknięty przycisk.
 * @param {number} number - Numer przypisany do kroku (1, 2 lub 3).
 */
function seqClick(btn, number) {
    if (!btn.classList.contains('active')) {
        btn.classList.add('active'); // Wizualne zaznaczenie (fioletowe tło)
        userSequence.push(number);
    }
}

/**
 * Sprawdza poprawność sekwencji w Zadaniu 10.
 * Wymagana kolejność: 1 (Folder) -> 2 (Import) -> 3 (Wypakuj).
 */
function checkQ10() {
    // Jeśli użytkownik nie kliknął 3 razy, przerwij
    if (userSequence.length &lt; 3) {
        return showResult('f10', false, "Kliknij wszystkie 3.");
    }
    
    // Sprawdzenie kolejności
    if (userSequence[0] === 1 &amp;&amp; userSequence[1] === 2 &amp;&amp; userSequence[2] === 3) {
        showResult('f10', true, "Gratulacje! Prawidłowy import.");
    } else {
        // Reset w przypadku błędu
        userSequence = [];
        document.querySelectorAll('.seq-btn').forEach(b => b.classList.remove('active'));
        showResult('f10', false, "Zła kolejność. Reset.");
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#checkQ1">checkQ1</a></li><li><a href="global.html#checkQ10">checkQ10</a></li><li><a href="global.html#checkQ2">checkQ2</a></li><li><a href="global.html#checkQ3">checkQ3</a></li><li><a href="global.html#checkQ4">checkQ4</a></li><li><a href="global.html#checkQ5">checkQ5</a></li><li><a href="global.html#checkQ6">checkQ6</a></li><li><a href="global.html#checkQ7">checkQ7</a></li><li><a href="global.html#checkQ8">checkQ8</a></li><li><a href="global.html#checkQ9">checkQ9</a></li><li><a href="global.html#closeModal">closeModal</a></li><li><a href="global.html#draggables">draggables</a></li><li><a href="global.html#draggedItem">draggedItem</a></li><li><a href="global.html#dropZones">dropZones</a></li><li><a href="global.html#handleSelection">handleSelection</a></li><li><a href="global.html#list">list</a></li><li><a href="global.html#openModal">openModal</a></li><li><a href="global.html#resetQ5">resetQ5</a></li><li><a href="global.html#selectImg">selectImg</a></li><li><a href="global.html#selectedElement">selectedElement</a></li><li><a href="global.html#seqClick">seqClick</a></li><li><a href="global.html#showResult">showResult</a></li><li><a href="global.html#sourceContainer">sourceContainer</a></li><li><a href="global.html#userSequence">userSequence</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Wed Jan 28 2026 04:13:15 GMT+0100 (czas środkowoeuropejski standardowy)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
